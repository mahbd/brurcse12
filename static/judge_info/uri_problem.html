{% extends 'base/judge_base.html' %}
{% load static %}
{% block content2 %}
    <p>Exclude yourself to find easiest unsolved problem</p>
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
            Exclude
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            {% for handle in all_handle %}
                <a class="dropdown-item" href="{% url 'jInfo:url_ex' handle.profile %}">{{ handle.nick_name }}</a>
            {% endfor %}
        </div>
    </div>
    <h3>URI problem name list</h3>
    <table class="table table-dark table-bordered table-responsive">
        <thead>
        <tr>
            <th>Problem name</th>
            {% for handle in all_handle %}
                <th>{{ handle.nick_name }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for problem in all_problem %}
            <tr>
                <td><a href="{{ problem.link }}">{{ problem.problem_name }}</a></td>
                {% for handle in all_handle %}
                    <td>{% if handle.nick_name in problem.solvers %}
                        <img width="40px" height="30px" src="{% static '/correct.jpg' %}" alt="YES">{% else %}
                        <img width="40px" height="30px" src="{% static 'incorrect.webp' %}" alt="NO">{% endif %}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="pagination text-white h6">
    <span class="step-links">
        {% if all_problem.has_previous %}
            <a href="?page=1" class="btn btn-success">&laquo; first</a>
            <a href="?page={{ all_problem.previous_page_number }}" class="btn btn-success">previous</a>
        {% endif %}

        <span class="current h5">
            Page {{ all_problem.number }} of {{ all_problem.paginator.num_pages }}.
        </span>

        {% if all_problem.has_next %}
            <a href="?page={{ all_problem.next_page_number }}" class="btn btn-success">next</a>
            <a href="?page={{ all_problem.paginator.num_pages }}" class="btn btn-success">last &raquo;</a>
        {% endif %}
    </span>
    </div>
{% endblock content2 %}